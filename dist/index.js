"use strict";var t=require("react"),e=require("react-dom");function o(){return o=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var o=arguments[e];for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(t[i]=o[i])}return t},o.apply(this,arguments)}!function(t,e){void 0===e&&(e={});var o=e.insertAt;if(t&&"undefined"!=typeof document){var i=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css","top"===o&&i.firstChild?i.insertBefore(r,i.firstChild):i.appendChild(r),r.styleSheet?r.styleSheet.cssText=t:r.appendChild(document.createTextNode(t))}}("#tooltip{word-wrap:normal;-webkit-animation:fade var(--animationDuration) cubic-bezier(.55,.085,.68,.53) both;animation:fade var(--animationDuration) cubic-bezier(.55,.085,.68,.53) both;display:none;font-size:var(--fontSize);font-style:normal;font-weight:400;left:50px;letter-spacing:normal;line-height:1.42857143;opacity:0;position:absolute;text-align:left;text-align:start;text-shadow:none;text-transform:none;top:50px;transition:opacity .5s ease-in-out;white-space:normal;word-break:normal;word-spacing:normal;z-index:1000000000}#tooltip.right{margin-left:5px}#tooltip.right .tooltip-arrow{border-right-color:var(--backgroundColor);border-width:5px 5px 5px 0;left:auto;margin-left:-5px;top:50%}#tooltip.left{margin-left:-5px}#tooltip.left .tooltip-arrow{border-left-color:var(--backgroundColor);border-width:5px 0 5px 5px;left:auto;margin-top:-5px;right:-5px;top:50%}#tooltip.top{margin-top:-5px}#tooltip.top .tooltip-arrow{border-top-color:var(--backgroundColor);border-width:5px 5px 0;bottom:-5px;left:50%;margin-left:-5px;top:auto}#tooltip.bottom{margin-top:5px}#tooltip.bottom .tooltip-arrow{border-bottom-color:var(--backgroundColor);border-width:0 5px 5px;left:50%;margin-left:-5px;top:0}#tooltip .tooltip-arrow{border:5px solid transparent;border-left-width:0;height:0;left:0;margin-top:-5px;position:absolute;top:50%;width:0}#tooltip .tooltip-inner{background-color:var(--backgroundColor);border-radius:4px;color:var(--color);max-width:200px;padding:3px 8px;text-align:center}#tooltip .tooltip-inner .tooltip-list{font-size:var(--fontSize);list-style-type:disc;max-width:200px;overflow:auto;padding:3px 8px;text-align:left;text-transform:capitalize}#tooltip .tooltip-inner .tooltip-image{border-radius:5px;height:auto;max-width:200px;overflow:hidden}#tooltip.on{display:block}#tooltip.off{display:none}@-webkit-keyframes fade{0%{opacity:0}80%{opacity:.6}to{opacity:1}}@keyframes fade{0%{opacity:0}80%{opacity:.6}to{opacity:1}}");var i=require("prop-types");const r=t.forwardRef(((i,r)=>{const[n,l]=t.useState(!1),[a,c]=t.useState({}),[s,p]=t.useState({x:0,y:0,type:"none",arrow:null}),d=t.useRef(!1),u=t.useRef(null),h=t.useRef(null);t.useDebugValue(d.current,(t=>t?"Tooltip is mounted":"Tooltip is unmounted")),t.useDebugValue(n,(t=>t?"Tooltip is visible":"Tooltip is hidden")),t.useDebugValue(a,(t=>`rect: ${JSON.stringify(t)}`)),t.useDebugValue(s,(t=>`state: ${JSON.stringify(t)}`)),t.useDebugValue(u.current,(t=>`showTimeoutRef: ${t}`)),t.useDebugValue(h.current,(t=>`hideTimeoutRef: ${t}`));const g=t.useRef(!1);t.useEffect((()=>(d.current=!0,()=>{d.current=!1})),[]);const m=t.useCallback((t=>{let e=x.current;if(null!=e){let a=0,c=0,s=null;const d=document.documentElement.clientWidth,u=document.documentElement.clientHeight;let h=t.x+t.width,g=t.x,m=t.y,f=t.y+t.height,y=e.getBoundingClientRect(),w={};switch(i.position){case"right":w.type="right";break;case"below":w.type="bottom";break;case"left":w.type="left";break;case"above":w.type="top";break;default:var o=h+y.width<=window.scrollX+d,r=g-y.width>=0,n=m-y.height>=0,l=f+y.height<=window.scrollY+u;o?w.type="right":l?w.type="bottom":r?w.type="left":n&&(w.type="top")}"right"===w.type?(a=h,i.forceCenter?(s=null,c=m+(t.height-y.height)/2):(c=m+(t.height-y.height),s=t.height/2,y.height<t.height&&(s=null,c=m+(t.height-y.height)/2),(c<0||t.height-y.height<0)&&(c=m))):"bottom"===w.type?(c=f,i.forceCenter?(s=null,a=g+(t.width-y.width)/2):(a=g+(t.width-y.width),s=t.width/2,y.width<t.width&&(s=null,a=g+(t.width-y.width)/2),(a<0||t.width-y.width<0)&&(a=g))):"left"===w.type?(a=g-y.width,i.forceCenter?(s=null,c=m+(t.height-y.height)/2):(c=m+(t.height-y.height),s=t.height/2,y.height<t.height&&(s=null,c=m+(t.height-y.height)/2),(c<0||t.height-y.height<0)&&(c=m))):"top"===w.type&&(c=m-y.height,i.forceCenter?(s=null,a=g+(t.width-y.width)/2):(a=g+(t.width-y.width),s=t.width/2,y.width<t.width&&(s=null,a=g+(t.width-y.width)/2),(a<0||t.width-y.width<0)&&(a=g))),w={...w,x:a,y:c,arrow:s},p(w)}}),[]);t.useEffect((()=>{const t=t=>{"Escape"===t.key&&k(0)},e=()=>{n&&k(0)};return n?(document.addEventListener("keydown",t),window.addEventListener("scroll",e)):(document.removeEventListener("keydown",t),window.removeEventListener("scroll",e),clearTimeout(h.current)),()=>{document.removeEventListener("keydown",t),window.removeEventListener("scroll",e),clearTimeout(h.current)}}),[n]),t.useLayoutEffect((()=>{i.show&&a?.x&&m(a)}),[i.show,a]);let f=1==g.current?"on":"off",y={left:s.x+window.scrollX+"px",top:s.y+window.scrollY+"px","--backgroundColor":i.style.backgroundColor??"#000","--color":i.style.color??"#fff","--fontSize":i.style.fontSize??"14px","--animationDuration":i.style.animationDuration??"0.3s"},w="top"===s.type||"bottom"===s.type?{left:s.arrow}:{top:s.arrow},b={};null!=s.type&&"none"!=s.type&&(b[s.type]=!0),b[f]=!0;const x=t.useRef(),v=t.useCallback((t=>{let o=t.currentTarget;if(null!=o){let t=o.getBoundingClientRect();if(i.show){clearTimeout(h.current);const o=setTimeout((()=>{g.current=!0,e.unstable_batchedUpdates((()=>{l(!0),c(t)}))}),i.delay);u.current=o}}}),[i.show,i.delay]),k=t.useCallback((t=>{clearTimeout(u.current);const e=setTimeout((()=>{l(!1),g.current=!1}),t??i.delay);h.current=e}),[i.delay]);t.useImperativeHandle(r,(()=>({showDynamicToolTip:t=>{v(t)},killDynamicToolTip(){k()},getNode:()=>x.current})),[]);const E=t.useRef(null);let T;t.useEffect((()=>{let t;const e=t=>{E?.current&&!E.current.contains(t.target)&&(i.trigger.includes("click")||i.trigger.includes("touch"))&&k()};return i.trigger.includes("click")||i.trigger.includes("touch")?(document.addEventListener("click",e),i.autoClose&&(t=setTimeout((()=>{k()}),2e3))):(document.removeEventListener("click",e),clearTimeout(t)),()=>{document.removeEventListener("click",e),clearTimeout(t)}}),[i.trigger,E]),T="string"==typeof i.content?i.content:"object"==typeof i.content&&"image"===i.content.type?t.createElement("img",{src:i.content.src,alt:i.content.alt??"tooltip image",onLoad:()=>m(a),className:"tooltip-image"}):"object"==typeof i.content&&"list"===i.content.type?t.createElement("ul",{className:"tooltip-list"},i.content.items.map((e=>t.createElement("li",{key:e},e)))):i.content;const C=(t,e)=>({onMouseEnter:(...o)=>{e.trigger.includes("hover")&&v(...o),t.props?.onMouseEnter?.(...o)},onMouseLeave:(...o)=>{e.trigger.includes("hover")&&k(...o),t.props?.onMouseLeave?.(...o)},onClick:(...o)=>{e.trigger.includes("click")&&v(...o),t.props?.onClick?.(...o)},onTouchStart:(...o)=>{e.trigger.includes("touch")&&v(...o),t.props?.onTouchStart?.(...o)}});return t.createElement(t.Fragment,null,t.Children.map(i.children,((e,r)=>0===r&&t.isValidElement(e)?e.type!==t.Fragment?t.cloneElement(e,((t,e)=>({...t.props,...e.show&&{"aria-describedby":"tooltip","data-testid":"tooltip-trigger"},ref:e.trigger.includes("click")?E:t.ref,...C(t,e)}))(e,i)):t.createElement("div",o({},n&&{"aria-describedby":"tooltip","data-testid":"tooltip-trigger"},C(e,i)),t.cloneElement(e,{...e.props})):e)),d.current&&n&&i.show&&e.createPortal(t.createElement("div",{id:"tooltip",className:Object.keys(b).join(" "),style:y,ref:x,"aria-hidden":!n,role:"tooltip",tabIndex:0,"data-testid":"tooltip","aria-label":"string"===i.content?i.content:"tooltip"},t.createElement("div",{className:"tooltip-arrow",style:w}),t.createElement("div",{className:"tooltip-inner"},T)),document.body))}));r.propTypes={position:i.oneOf(["right","below","left","above","auto"]),trigger:i.arrayOf(i.oneOf(["hover","click","touch"])),show:i.bool,content:i.oneOfType([i.string,i.shape({type:i.oneOf(["image","list"]).isRequired,src:i.string,alt:i.string,items:i.arrayOf(i.string)}),i.element]).isRequired,delay:i.number,style:i.object,forceCenter:i.bool,autoClose:i.bool,children:i.node.isRequired},r.defaultProps={show:!0,content:"Tooltip ðŸš€",trigger:["hover"],position:"auto",delay:100,style:{backgroundColor:"#000",color:"#fff",fontSize:"14px",animationDuration:"0.3s"},forceCenter:!1,autoClose:!0},r.displayName="ToolTip";
